<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>传智专修学院</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content="传智专修学院">
    <meta name="content" content="传智专修学院">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <link type="text/css" rel="stylesheet" href="/css/login.css">
    <script type="text/javascript" src="/js/jquery-1.11.3.js"></script>

    <script type="text/javascript">

        $.fn.serializeJson = function () {
            var serializeObj = {};
            var array = this.serializeArray();
            var str = this.serialize();
            $(array).each(function () {
                if (serializeObj[this.name]) {
                    if ($.isArray(serializeObj[this.name])) {
                        serializeObj[this.name].push(this.value);
                    } else {
                        serializeObj[this.name] = [serializeObj[this.name], this.value];
                    }
                } else {
                    serializeObj[this.name] = this.value;
                }
            });
            return serializeObj;
        };


    </script>

</head>

<body class="login_bj">
<div class="zhuce_body">
    <div class="logo">
        <a href="#"><img src="/images/czxylogo.png" height="54" border="0"></a>
    </div>
    <div class="zhuce_kong login_kuang">
        <div class="zc">
            <div class="bj_bai">
                <h3>登录</h3>
                <!-- 登录表单 -->
                <form id="login_form">
                    <input type="text" class="kuang_txt" placeholder="账号" name="username">
                    <input type="password" class="kuang_txt" placeholder="密码" name="password">
                    <div id="showMsg">

                    </div>
                    <div>
                        <a href="#">忘记密码？</a>

                        <!-- 记住我复选框 -->
                        <input type="checkbox">

                        <span>记住我</span>
                    </div>
                    <input type="button" class="btn_zhuce" value="登录" id="btn"/>

                </form>
            </div>
            <div class="bj_right">
                <p>使用以下账号直接登录</p>
                <a href="#" class="zhuce_qq">QQ注册</a>
                <a href="#" class="zhuce_wb">微博注册</a>
                <a href="#" class="zhuce_wx">微信注册</a>
                <p>已有账号？
                    <a href="#">立即登录</a>
                </p>

            </div>
        </div>
        <P>www.czxy.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;传智专修学院欢迎您</P>
    </div>

</div>


</body>
<script src="js/jquery-3.3.1.min.js"></script>
<script>
    $(function () {
        //登录
        $("#btn").on("click", function () {
            $.ajax({
                url: "/user/login",
                type: "post",
                data: JSON.stringify($("#login_form").serializeJson()),
                contentType: "application/json",
                success: function (flag) {
                    if (flag) {
                        location.href = "main.html";
                    } else {
                        $("#showMsg").html(" 账号或密码错误");
                    }
                }
            })

        })


        $.fn.serializeJson = function () {
            var serializeObj = {};
            var array = this.serializeArray();
            var str = this.serialize();
            $(array).each(function () {
                if (serializeObj[this.name]) {
                    if ($.isArray(serializeObj[this.name])) {
                        serializeObj[this.name].push(this.value);
                    } else {
                        serializeObj[this.name] = [serializeObj[this.name], this.value];
                    }
                } else {
                    serializeObj[this.name] = this.value;
                }
            });
            return serializeObj;
        };
    })
</script>
</html>